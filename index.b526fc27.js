import{e as S,o as I,f as A,g as L,j as E,k as T,S as x,l as b}from"./@vue.86bfd1f8.js";import{c as N,a as D}from"./vue-router.9a8cfd5a.js";import{c as O}from"./vuex.418d299d.js";import{a as k}from"./axios.3fb31503.js";const $=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}};$();var P=(e,t)=>{for(const[o,r]of t)e[o]=r;return e};const C={};function R(e,t){const o=S("router-view");return I(),A(x,null,{default:L(()=>[E(o,null,{default:L(({Component:r})=>[(I(),A(T(r),{key:e.$route.fullPath}))]),_:1})]),_:1})}var z=P(C,[["render",R]]);const Y="modulepreload",v={},V="//cdn.jsdelivr.net/gh/Sle2p/",f=function(t,o){return!o||o.length===0?t():Promise.all(o.map(r=>{if(r=`${V}${r}`,r in v)return;v[r]=!0;const a=r.endsWith(".css"),n=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const s=document.createElement("link");if(s.rel=a?"stylesheet":Y,a||(s.as="script",s.crossOrigin=""),s.href=r,document.head.appendChild(s),a)return new Promise((i,c)=>{s.addEventListener("load",i),s.addEventListener("error",c)})})).then(()=>t())},_={"./pages/Author.$id.vue":()=>f(()=>import("./Author.$id.aaa06c6e.js"),["assets/Author.$id.aaa06c6e.js","assets/Author.$id.7d07da60.css","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"]),"./pages/Error.vue":()=>f(()=>import("./Error.d0335789.js"),["assets/Error.d0335789.js","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"]),"./pages/Forget.vue":()=>f(()=>import("./Forget.f234aa84.js"),["assets/Forget.f234aa84.js","assets/Forget.347d0d12.css","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"]),"./pages/Home.vue":()=>f(()=>import("./Home.14de283e.js"),["assets/Home.14de283e.js","assets/Home.1593c48d.css","assets/vuex.418d299d.js","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/axios.3fb31503.js"]),"./pages/Illust.$id.vue":()=>f(()=>import("./Illust.$id.7a04839a.js"),["assets/Illust.$id.7a04839a.js","assets/Illust.$id.88da25dc.css","assets/vuex.418d299d.js","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/axios.3fb31503.js"]),"./pages/Login.vue":()=>f(()=>import("./Login.f96fa0fd.js"),["assets/Login.f96fa0fd.js","assets/Login.73a0ed70.css","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"]),"./pages/Ranking.$date([0-9]{8})!.$page([0-9]{1,7})!.vue":()=>f(()=>import("./Ranking.$date([0-9]{8})!.$page([0-9]{1,7})!.79a289dd.js"),["assets/Ranking.$date([0-9]{8})!.$page([0-9]{1,7})!.79a289dd.js","assets/Ranking.$date([0-9]{8})!.$page([0-9]{1,7})!.14ae0439.css","assets/vuex.418d299d.js","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/axios.3fb31503.js"]),"./pages/Register.vue":()=>f(()=>import("./Register.fb91f609.js"),["assets/Register.fb91f609.js","assets/Register.896a7c95.css","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"]),"./pages/Search.vue":()=>f(()=>import("./Search.314174c6.js"),["assets/Search.314174c6.js","assets/Search.82615455.css","assets/@vue.86bfd1f8.js","assets/vuex.418d299d.js","assets/vue-router.9a8cfd5a.js","assets/axios.3fb31503.js"]),"./pages/Search_Authors.$keyword.vue":()=>f(()=>import("./Search_Authors.$keyword.bad5cc5a.js"),["assets/Search_Authors.$keyword.bad5cc5a.js","assets/Search_Authors.$keyword.df0fc1c9.css","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"]),"./pages/Search_Illusts.$keyword.vue":()=>f(()=>import("./Search_Illusts.$keyword.472b5713.js"),["assets/Search_Illusts.$keyword.472b5713.js","assets/Search_Illusts.$keyword.6fe6f494.css","assets/vuex.418d299d.js","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/axios.3fb31503.js"])},Q={"./pages/auth/Profile.vue":()=>f(()=>import("./Profile.d0a5ccf6.js"),["assets/Profile.d0a5ccf6.js","assets/Profile.9da2c04d.css","assets/vuex.418d299d.js","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/axios.3fb31503.js"])},B=[...Object.keys(Object.assign(_,Q)).map(e=>{const t=a=>a.toLowerCase().replace(/\./g,"/").replace(/\_/g,"/").replace(/\$/g,":").replace(/\!/g,"?"),o=e.match(/\.\/pages\/(.*)\.vue$/)[1],r=t(e.match(/\.\/pages(.*)\.vue$/)[1]);if(r.match(/^\/auth\//))return{name:o.match(/^auth\/(\w+)/)[1],path:r.match(/^\/auth(.*)/)[1],component:_[e],meta:{auth:!0}};{const a=o.match(/(\w+)/)[1].toLowerCase(),n={"./pages/children/author/Fans.vue":()=>f(()=>import("./Fans.24d12f39.js"),["assets/Fans.24d12f39.js","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"]),"./pages/children/author/Index.vue":()=>f(()=>import("./Index.adcaae9b.js"),["assets/Index.adcaae9b.js","assets/@vue.86bfd1f8.js","assets/vuex.418d299d.js","assets/vue-router.9a8cfd5a.js","assets/axios.3fb31503.js"])};return{name:o.match(/(\w+)/)[1],path:o.match(/^home/gim)?r.replace(/^\/home(.*)/gim,"$1"):r,component:_[e],children:Object.keys(n).map(s=>{const i=s.match(/\.\/pages\/children\/(.*)\/(.*)\.vue$/);if(a===i[1].toLowerCase())return{name:`${i[1].toLowerCase()}:${i[2].match(/(\w+)/)[1]}`,path:i[2].match(/^index/gim)?t(i[2].replace(/^index(.*)/gim,"$1")):t(i[2]),component:n[s]}}).filter(s=>s)}}}),{path:"/:pathMatch(.*)*",redirect:{name:"Error"}}],G=()=>N({history:D(),routes:B,scrollBehavior(e,t,o){return o||{left:0,top:0}}});var U=()=>({title:["\u4E00\u7ED8"].join(" - "),description:"\u4E00\u7ED8\u63D0\u4F9B\u4EBA\u6C14\u63D2\u753B\u7684\u6D4F\u89C8\u3001\u641C\u7D22\u4E0E\u4E0B\u8F7D\u7B49\u670D\u52A1\uFF0C\u6BCF\u5929\u5B9E\u65F6\u66F4\u65B0Pixiv\u9996\u6B21\u767B\u573A\u63D2\u753B\u6392\u884C\u699C\u3002",keywords:["\u4E00\u7ED8","ACG","illust","illustration","Manga","Pixiv","Pixiv\u6392\u884C\u699C","Pixiv\u6BCF\u65E5\u6392\u884C\u699C","Pixiv\u70ED\u95E8","Pixiv\u63A8\u8350","Pixiv\u753B\u5E08","Pixiv\u56FE\u7247","Pixiv\u4E2D\u56FD","Pixiv\u4E2D\u6587","P\u7AD9","P\u7AD9\u753B\u5E08","P\u7AD9\u63D2\u753B","P\u7AD9\u56FE\u7247","ACG\u63D2\u753B","ACG\u56FE\u7247","ACG\u58C1\u7EB8","\u63D2\u753B","\u6F2B\u753B","\u7ACB\u7ED8","\u540C\u4EBA\u753B","\u52A8\u6F2B\u56FE\u7247","\u52A8\u6F2B\u7F8E\u5C11\u5973","\u4E8C\u6B21\u5143","\u4E8C\u6B21\u5143\u63D2\u753B","\u4E8C\u6B21\u5143\u56FE\u7247","\u4E8C\u6B21\u5143\u58C1\u7EB8","\u63D2\u753B\u7231\u597D\u8005"],theme:"#ffffff",image:"https://ehsee.com/assets/logo.png",cache:{limit:10},dns:["//api.ehsee.com","//cdn.jsdelivr.net","//wework.qpic.cn","//i0.wp.com"]});class W{constructor(t,o){this.color=t,this.opacity=o,this.res=[]}fit(){return(.299*this.res[0]+.587*this.res[1]+.114*this.res[2])/255>=.55?"#000000":"#ffffff"}}class F extends W{constructor(t,o,r){super(t,o,r);return this.color=this.color.substr(1),this.color.length===3&&(this.color=this.color.replace(/(.)/g,"$1$1")),this.color.replace(/../g,a=>this.res.push(parseInt(a,16).toString())),{r:this.res[0],g:this.res[1],b:this.res[2],fit:this.fit(),color:o?`rgba(${this.res.join(",")},${o})`:`rgb(${this.res.join(",")})`}}}var X=()=>({info:(e,t)=>{e.user=t},markIllustStatus:(e,{path:t,status:o})=>{e[t]=Object.assign(e[t]||{}),e[t].mark=o},followAuthorStatus:(e,{path:t,status:o})=>{e[t]=Object.assign(e[t]||{}),e[t].follow=o},theme:(e,t)=>{const o=window.document.querySelector('meta[name="theme-color"]');o&&o.setAttribute("content",t),window.document.querySelector("body").setAttribute("style",`--color:${t}; --fit:${new F(t).fit}`)},cache:(e,t)=>{var n;const o=new Set(((n=e==null?void 0:e.cache)==null?void 0:n.list)||[]);o.has(t)&&o.delete(t),o.add(t);const r=Array.from(o);e.cache.list=r.slice(-Number(e.cache.limit));const a=Array.from(r).shift();Array.from(e.cache.list).includes(a)||delete e[a]},latest:(e,{path:t,data:o,next:r})=>{var n;e[t]=Object.assign(e[t]||{},((n=e[t])==null?void 0:n.data)?{}:{data:[]});const a=new Set(e[t].data.map(s=>s.id));o.forEach(s=>{a.has(s.id)||(a.add(s.id),e[t].data.push(s))}),e[t].next=r},ranking:(e,{path:t,data:o,date:r,page:a,next:n,next_date:s,prev_date:i})=>{var u;e[t]=Object.assign(e[t]||{},((u=e[t])==null?void 0:u.data)?{}:{data:[]});const c=new Set(e[t].data.map(l=>l.id));o.forEach(l=>{c.has(l.id)||(c.add(l.id),e[t].data.push(l))}),e[t].date=r,e[t].page=a,e[t].next=n,e[t].next_date=s,e[t].prev_date=i},randomTags:(e,{path:t,data:o})=>{var a;e[t]=Object.assign(e[t]||{},((a=e[t])==null?void 0:a.random_tags)?{}:{random_tags:[]});const r=new Set(e[t].random_tags.map(n=>n.name));o.forEach(n=>{r.has(n.name)||(r.add(n.name),e[t].random_tags.push(n))})},searchIllusts:(e,{path:t,data:o,page:r,next:a,total:n})=>{var u,l;if(e[t]=Object.assign(e[t]||{},((u=e[t])==null?void 0:u.data)?{}:{data:[]},((l=e[t])==null?void 0:l.tags)?{}:{tags:[]}),!o)return;const s=new Set(e[t].data.map(d=>d.id));o.forEach(d=>{s.has(d.id)||(s.add(d.id),e[t].data.push(d))});const i=Array(o.map(d=>d.tags)).flat(1/0),c=new Map;e[t].tags.forEach(d=>c.set(d.name,d)),i.forEach(d=>{!c.has(d.name)&&e[t].tags.length<=50&&(e[t].tags.push(d),c.set(d.name,d))}),e[t].page=r,e[t].next=a,e[t].total=n},searchAuthors:(e,{path:t,data:o,page:r,next:a,total:n})=>{var i;e[t]=Object.assign(e[t]||{},((i=e[t])==null?void 0:i.data)?{}:{data:[]});const s=new Set(e[t].data.map(c=>c.id));!o||(o.forEach(c=>{s.has(c.id)||(s.add(c.id),e[t].data.push(c))}),e[t].page=r,e[t].next=a,e[t].total=n)},illust:(e,{path:t,data:o})=>{e[t]=Object.assign(e[t]||{}),e[t].data=o},related:(e,{path:t,data:o,page:r,next:a,total:n})=>{var i;e[t]=Object.assign(e[t]||{},((i=e[t])==null?void 0:i.illusts)?{}:{illusts:[]});const s=new Set(e[t].illusts.map(c=>c.id));!o||(o.forEach(c=>{s.has(c.id)||(s.add(c.id),e[t].illusts.push(c))}),e[t].page=r,e[t].next=a,e[t].total=n)},authorInfo:(e,{path:t,data:o})=>{e[t]=Object.assign(e[t]||{}),e[t].data=o},authorIllusts:(e,{path:t,data:o,page:r,next:a,total:n})=>{var i;e[t]=Object.assign(e[t]||{},((i=e[t])==null?void 0:i.illusts)?{}:{illusts:[]});const s=new Set(e[t].illusts.map(c=>c.id));!o||(o.forEach(c=>{s.has(c.id)||(s.add(c.id),e[t].illusts.push(c))}),e[t].page=r,e[t].next=a,e[t].total=n)}}),q=()=>({}),m=async(e,t)=>{const o={Token:localStorage==null?void 0:localStorage.token};Object.keys(o).forEach(a=>!o[a]&&delete o[a]);const r=k.create({baseURL:"https://api.ehsee.com",headers:o});return r.interceptors.request.use(a=>a),r.interceptors.response.use(a=>a,a=>{const n=a.response;console.log(n),n.status===401&&(window.location.href="/login")}),await r(e)},H=()=>({info:async({state:e,commit:t},o)=>{const{data:{body:{data:r}}}=await m({url:"/user/info"});localStorage.user=JSON.stringify(r),t("info",r)},markIllustStatus:async({state:e,commit:t},o)=>{const{path:r,params:{id:a}}=o,{data:{error:n,body:{status:s}}}=await m({method:"GET",url:`action/illust?id=${a}`});n||t("markIllustStatus",{path:r,status:s})},markIllust:async({state:e,commit:t},o)=>{const{path:r,params:{id:a}}=o,{data:{error:n}}=await m({method:"POST",url:"action/illust",data:{id:a}});n||t("markIllustStatus",{path:r,status:!0})},unmarkIllust:async({state:e,commit:t},o)=>{const{path:r,params:{id:a}}=o,{data:{error:n}}=await m({method:"DELETE",url:`action/illust?id=${a}`});n||t("markIllustStatus",{path:r,status:!1})},followAuthorStatus:async({state:e,commit:t},o)=>{const{path:r,params:{id:a}}=o,{data:{error:n,body:{status:s}}}=await m({method:"GET",url:`action/author?id=${a}`});n||t("followAuthorStatus",{path:r,status:s})},followAuthor:async({state:e,commit:t},o)=>{const{path:r,params:{id:a}}=o,{data:{error:n}}=await m({method:"POST",url:"action/author",data:{id:a}});n||t("followAuthorStatus",{path:r,status:!0})},unfollowAuthor:async({state:e,commit:t},o)=>{const{path:r,params:{id:a}}=o,{data:{error:n}}=await m({method:"DELETE",url:`action/author?id=${a}`});n||t("followAuthorStatus",{path:r,status:!1})},latest:async({state:e,commit:t},o)=>{var s;const r={page:((s=e[o.path])==null?void 0:s.next)||o.query.page||1},{data:{body:{data:a,next:n}}}=await m({url:"latest",params:r});t("latest",{path:o.path,data:a,next:n})},ranking:async({state:e,commit:t},o)=>{var l;const r={date:o.params.date,page:((l=e[o.path])==null?void 0:l.next)||o.query.page||1};Object.keys(r).forEach(d=>!r[d]&&delete r[d]);const{data:{body:{data:a,date:n,page:s,next:i,next_date:c,prev_date:u}}}=await m({url:"ranking",params:r});t("ranking",{path:o.path,data:a,date:n,page:s,next:i,next_date:c,prev_date:u})},randomTags:async({state:e,commit:t},o)=>{const{data:{body:{data:r}}}=await m({url:"random/tags"});t("randomTags",{path:o.path,data:r})},searchIllusts:async({state:e,commit:t},o)=>{var l;const{path:r,params:{keyword:a}}=o,n={keyword:a,page:((l=e[r])==null?void 0:l.next)||o.params.page},{data:{body:{data:s,page:i,next:c,total:u}}}=await m({url:"search/illusts",params:n});t("searchIllusts",{path:r,data:s,page:i,next:c,total:u})},searchAuthors:async({state:e,commit:t},o)=>{var l;const{path:r,params:{keyword:a}}=o,n={keyword:a,page:((l=e[r])==null?void 0:l.next)||o.params.page},{data:{body:{data:s,page:i,next:c,total:u}}}=await m({url:"search/authors",params:n});t("searchAuthors",{path:r,data:s,page:i,next:c,total:u})},illust:async({state:e,commit:t},{route:o})=>{const{data:{body:{data:r}}}=await m({url:"illust",params:{id:o.params.id}});t("illust",{path:o.path,data:r})},related:async({state:e,commit:t},o)=>{var l;const{path:r,params:{id:a}}=o,n={id:a,page:(l=e[r])==null?void 0:l.next},{data:{body:{data:s,page:i,next:c,total:u}}}=await m({url:"related",params:n});t("related",{path:r,data:s,page:i,next:c,total:u})},authorInfo:async({state:e,commit:t},{route:o})=>{const{data:{body:{data:r}}}=await m({url:"author/info",params:{id:o.params.id}});t("authorInfo",{path:o.path,data:r})},authorIllusts:async({state:e,commit:t},o)=>{var l;const{path:r,params:{id:a}}=o,n={id:a,page:(l=e[r])==null?void 0:l.next},{data:{body:{data:s,page:i,next:c,total:u}}}=await m({url:"author/illusts",params:n});t("authorIllusts",{path:r,data:s,page:i,next:c,total:u})}});const Z=()=>O({state:U(),mutations:X(),getters:q(),actions:H(),modules:{}});var J={mounted(e,t,o){const r=new IntersectionObserver(a=>{const[{isIntersecting:n,target:s}]=a,{arg:i}=t;if(n){if(s.dataset.src&&(!i||i==="src")){const c=new Image;c.src=s.dataset.src,c.onload=()=>s.src=s.dataset.src,c.onerror=()=>s.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB2aWV3Qm94PSItMTMwMCAtMTMwMCAzNjAwIDM2MDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgc3R5bGU9IiBiYWNrZ3JvdW5kOiAjZjdmOGY5OyI+CjxwYXRoIGQ9Ik04OTguMiA4MjcuNXYtNzAuM2g2MS4xVjg1OGMwIDE2LjktMTMuNyAzMC41LTMwLjUgMzAuNUg5My45Yy0xNi45IDAtMzAuNS0xMy43LTMwLjUtMzAuNVYxNjUuN2MwLTE2LjkgMTMuNy0zMC41IDMwLjUtMzAuNWg4MzQuOWMxNi45IDAgMzAuNSAxMy43IDMwLjUgMzAuNXY0MjdoLTYxLjFWMTk2LjJIMTI0LjR2NjMxLjNoNzczLjh6TTMyOC4xIDUwMS43Yy01Ni4yIDAtMTAxLjgtNDUuNi0xMDEuOC0xMDEuOHM0NS42LTEwMS44IDEwMS44LTEwMS44IDEwMS44IDQ1LjYgMTAxLjggMTAxLjgtNDUuNiAxMDEuOC0xMDEuOCAxMDEuOHogbTAtNjEuMWMyMi41IDAgNDAuNy0xOC4yIDQwLjctNDAuN3MtMTguMi00MC43LTQwLjctNDAuNy00MC43IDE4LjItNDAuNyA0MC43IDE4LjIgNDAuNyA0MC43IDQwLjd6TTIwMy41IDY2MS4ybDQzLjgtNDIuNWM3My40IDc1LjcgMTQ4LjkgODEuNCAyMTkuMSAyMS4yIDguNi03LjQgMTEtOS41IDMyLjctMjguNSA2OC4xLTU5LjkgMTAzLTg2LjIgMTQ3LjgtMTA1LjQgNjIuNS0yNi44IDEyMy42LTIzLjYgMTg0LjYgMTUuMWwtMzIuOCA1MS42QzcyMSA1MjMuNCA2NjQgNTQ3LjkgNTM5LjQgNjU3LjRjLTIxLjkgMTkuMy0yNC4zIDIxLjQtMzMuMiAyOS05NS4zIDgxLjYtMjA3LjQgNzMuMS0zMDIuNy0yNS4yeiIgcC1pZD0iNDQzOSIgZmlsbD0iI2RkZCI+PC9wYXRoPgo8L3N2Zz4="}else s[i]=s.dataset[i];r.unobserve(s)}},{rootMargin:"50% 50% 50% 50%"});r.observe(e)}},K={mounted(e,t,o){const{x:r,y:a,scroll:n}=t.modifiers;e.onmousedown=s=>{s.preventDefault(),s.stopPropagation(),s.cancelBubble=!0;const i=s.clientX,c=s.clientY,u=e.scrollLeft,l=e.scrollTop,d=e.style.transform,h=e.style["scroll-behavior"],y=e.style["pointer-events"];e.style["scroll-behavior"]="auto",document.onmousemove=g=>{const j=r||!a?g.clientX-i:0,M=a||!r?g.clientY-c:0;n?e.scrollTo(u-j,l-M):e.style.transform=`translate3d(${j/10}rem, ${M/10}rem, 0rem)`,e.style["pointer-events"]="none",document.onmouseup=()=>{document.onmousedown=document.onmousemove=document.onmouseup=null,e.style.transform=d,e.style["scroll-behavior"]=h,e.style["pointer-events"]=y,!!t.value&&(j<0||M<0?t.value(!0):t.value(!1))}},document.onmouseup=()=>document.onmousedown=document.onmousemove=document.onmouseup=null},e.ontouchstart=s=>{const i=e.scrollLeft,c=e.scrollTop,u=e.style.transform,l=s.targetTouches[0].clientX-i,d=s.targetTouches[0].clientY-c;document.ontouchmove=h=>{const y=r||!a?h.targetTouches[0].clientX-l:0,g=a||!r?h.targetTouches[0].clientY-d:0;n||(e.style.transform=`translate3d(${y/10}rem, ${g/10}rem, 0rem)`),document.ontouchend=()=>{document.ontouchstart=document.ontouchmove=document.ontouchend=null,e.style.transform=u,!!t.value&&(y<0||g<0?t.value(!0):t.value(!1))}},document.ontouchend=()=>document.ontouchstart=document.ontouchmove=document.ontouchend=null},e.onmousewheel=s=>{s.preventDefault(),s.stopPropagation(),s.cancelBubble=!0,n&&(s.wheelDelta>0?e.scrollBy(-100,0):e.scrollBy(100,0)),!!t.value&&window.requestAnimationFrame(()=>{s.wheelDelta<0?t.value(!0):t.value(!1)})}}},ee={mounted(e,t,o){e.onpointerdown=r=>{const a=document.createElement("span"),n=(r.clientX-e.getBoundingClientRect().x)/10,s=(r.clientY-e.getBoundingClientRect().y)/10,i=Math.max(e.offsetWidth,e.offsetHeight)/10;t.value&&(a.style.backgroundColor=t.value),a.style.width=`${i}rem`,a.style.height=`${i}rem`,a.style.left=n+"rem",a.style.top=s+"rem",a.classList.add("ripple"),e.appendChild(a);let c=!1,u=!1;e.querySelectorAll(".ripple").forEach(l=>{l!==a&&e.removeChild(l)}),a.onanimationend=l=>{u=!0,c&&e.querySelectorAll(".ripple").length&&e.removeChild(a)},e.onpointerleave=e.onpointerup=l=>{c=!0,u&&e.querySelectorAll(".ripple").length&&e.removeChild(a)}}}};const te=()=>{const e=b(z),t=G(),o=Z();return e.use(o).use(t),e.directive("lazy",J),e.directive("dragscroll",K),e.directive("ripple",ee),{app:e,router:t,store:o}};const{app:oe,router:w,store:p}=te();w.beforeResolve((e,t,o)=>{try{if(localStorage.user&&p.commit("info",JSON.parse(localStorage.user)),e.meta.auth&&!localStorage.token)return o({path:"/login"});const r=localStorage.token,n=w.resolve(e).matched.flatMap(s=>Object.values(s.components));Promise.all(n.map(s=>{const i=s.init||null,c=s.meta||null,u={store:p,route:e,token:r};return p.commit("cache",e.path),new Promise(l=>{Promise.resolve(i&&!p.state[e.path]?i(u):{}).then(()=>{const{title:d,theme:h,description:y,keywords:g,image:j}=c?c(u):{};l({title:[d,p.state.title].filter(M=>M).join(" - "),theme:h||p.state.theme,description:y||p.state.description,keywords:g||p.state.keywords,image:j||p.state.image})})})}).flat()).then(([s])=>{for(const i in s)i==="title"?document.title=s[i]:(i==="theme"&&p.commit("theme",s[i]),document.querySelector(`meta[name^="${i}"], meta[itemprop^="${i}"]`).setAttribute("content",s[i]))}),o()}catch(r){o(r)}});w.isReady().then(()=>oe.mount("[app]"));window.__INITIAL_STATE__&&p.replaceState(window.__INITIAL_STATE__);export{P as _,f as a,m as h};
