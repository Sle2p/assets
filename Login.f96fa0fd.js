var I=Object.defineProperty,b=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var m=(t,e,o)=>e in t?I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,v=(t,e)=>{for(var o in e||(e={}))j.call(e,o)&&m(t,o,e[o]);if(_)for(var o of _(e))B.call(e,o)&&m(t,o,e[o]);return t},f=(t,e)=>b(t,S(e));import{_ as k,a as g,h as T}from"./index.b526fc27.js";import{m as h,r as L,c as x,q as C,t as E,e as l,o as V,v as A,x as s,j as r,C as N,g as w,F as O,A as P,B as R,J as d}from"./@vue.86bfd1f8.js";import{b as K}from"./vue-router.9a8cfd5a.js";import"./vuex.418d299d.js";import"./axios.3fb31503.js";const M={components:{Bar:h(()=>g(()=>import("./Bar.88dd7e64.js"),["assets/Bar.88dd7e64.js","assets/Bar.265d0c8c.css","assets/BarItem.b5e7eb7f.js","assets/BarItem.62f2bae4.css","assets/index.b526fc27.js","assets/index.b4b37ec1.css","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"])),Input:h(()=>g(()=>import("./Input.1d0ad664.js"),["assets/Input.1d0ad664.js","assets/Input.3af0a8c2.css","assets/index.b526fc27.js","assets/index.b4b37ec1.css","assets/@vue.86bfd1f8.js","assets/vue-router.9a8cfd5a.js","assets/vuex.418d299d.js","assets/axios.3fb31503.js"]))},meta(){return{title:"\u767B\u5F55"}},setup(){const t=K(),e=L({username:null,password:null,status:x(()=>!!e.username&&!!e.password)}),o=async a=>{try{localStorage.clear();const{data:{body:{error:u,data:{user:c,token:i}}}}=await T({method:"POST",url:"login",data:{name:e.username,password:e.password}});u||(localStorage.token=i,localStorage.user=JSON.stringify(c),t.replace("/profile"))}catch{a.target.innerHTML="\u767B\u5F55\u5931\u8D25",setTimeout(()=>{a.target.innerHTML="\u767B\u5F55"},1e3)}};return C(()=>{localStorage.clear()}),f(v({},E(e)),{login:o})}},D=t=>(P("data-v-65e322e8"),t=t(),R(),t),F={login:""},H={class:"card"},J=D(()=>s("section",{class:"title"},"\u4E00\u7ED8",-1)),U={class:"register"},q=d(" \u6CA1\u6709\u8D26\u53F7\uFF1F"),$=d("\u53BB\u6CE8\u518C"),z=d("\u5FD8\u8BB0\u5BC6\u7801"),G={class:"submit"},Q=["disabled"];function W(t,e,o,a,u,c){const i=l("Input"),p=l("router-link"),y=l("Bar");return V(),A(O,null,[s("section",F,[s("section",H,[J,r(i,{name:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u6216\u90AE\u7BB1",value:t.username,"onUpdate:value":e[0]||(e[0]=n=>t.username=n)},null,8,["value"]),r(i,{type:"password",name:"\u8BF7\u8F93\u5165\u5BC6\u7801",value:t.password,"onUpdate:value":e[1]||(e[1]=n=>t.password=n),onKeyup:N(a.login,["enter"])},null,8,["value","onKeyup"]),s("nav",null,[s("section",U,[s("span",null,[q,r(p,{to:"/register",replace:""},{default:w(()=>[$]),_:1})]),r(p,{to:"/forget"},{default:w(()=>[z]),_:1})])]),s("section",G,[s("button",{onClick:e[2]||(e[2]=(...n)=>a.login&&a.login(...n)),disabled:!t.status},"\u767B\u5F55",8,Q)])])]),r(y)],64)}var se=k(M,[["render",W],["__scopeId","data-v-65e322e8"]]);export{se as default};
